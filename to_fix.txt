fix add history if the comand fail


fix the status exist in the expanding -> ft_handle_special_char
